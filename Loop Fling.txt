local Players = game:GetService("Players") -- Ensure this is at the TOP
local LP = Players.LocalPlayer
local Camera = workspace.CurrentCamera
local UIS = game:GetService("UserInputService")

-- Add game loaded check
if not game:IsLoaded() then
    game.Loaded:Wait()
end

-- Rest of your GUI setup code...

-- Fixed Suggestions System
local function UpdateSuggestions()
    Suggestions:ClearAllChildren()
    local query = Input.Text:lower()
    
    -- Explicitly reference the Players service
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LP and player.Name:lower():find(query, 1, true) then
            -- Suggestion button creation code...
        end
    end
    Suggestions.Visible = #Suggestions:GetChildren() > 0
end

-- Rest of your code...
