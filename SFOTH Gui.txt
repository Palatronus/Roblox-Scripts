--// Fully Functional Auto Heal & Auto Armor Script for Sword Fight on the Heights Original
--// Optimized for Roblox Executors, Utilizes firetouchinterest()

-- Variables
local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local rootPart = character:WaitForChild("HumanoidRootPart")
local workspace = game:GetService("Workspace")

-- Function to find armor stands and heal pads
local function getObject(name)
    for _, obj in ipairs(workspace:GetDescendants()) do
        if obj:IsA("BasePart") and obj.Name == name then
            return obj
        end
    end
    return nil
end

-- Function to trigger touch events
local function fireTouch(target)
    if target and rootPart then
        firetouchinterest(rootPart, target, 0)
        task.wait(0.2)
        firetouchinterest(rootPart, target, 1)
    end
end

-- Function to check if armor is equipped
local function hasArmor()
    return humanoid.MaxHealth > 100
end

-- Function to check if healing is needed
local function needsHealing()
    return humanoid.Health < humanoid.MaxHealth
end

-- Function to equip armor
local function equipArmor()
    local armorStand = getObject("BattleArmorStand")
    if armorStand and not hasArmor() then
        fireTouch(armorStand)
    end
end

-- Function to heal if needed
local function triggerHeal()
    local healPad = getObject("HealPad")
    if healPad and needsHealing() then
        fireTouch(healPad)
    end
end

-- Main loop to continuously check and trigger functions
local function mainLoop()
    while task.wait(1) do
        equipArmor()
        triggerHeal()
    end
end

-- Ensure script runs after respawning
player.CharacterAdded:Connect(function(newChar)
    character = newChar
    humanoid = character:WaitForChild("Humanoid")
    rootPart = character:WaitForChild("HumanoidRootPart")
    task.wait(1)
    mainLoop()
end)

task.spawn(mainLoop)
