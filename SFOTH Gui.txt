-- Auto Heal & Auto Equip Armor Script for Sword Fight on the Heights Original

-- Settings
local armorName = "BattleArmorStand"
local healPadName = "HealPad"
local player = game.Players.LocalPlayer

-- Function to find the nearest object by name
local function findNearestObject(name)
    local nearestObject = nil
    local shortestDistance = math.huge
    for _, obj in ipairs(workspace:GetDescendants()) do
        if obj:IsA("BasePart") and obj.Name == name then
            local distance = (obj.Position - player.Character.HumanoidRootPart.Position).Magnitude
            if distance < shortestDistance then
                shortestDistance = distance
                nearestObject = obj
            end
        end
    end
    return nearestObject
end

-- Function to move character to a position
local function moveToPosition(position)
    local hrp = player.Character:FindFirstChild("HumanoidRootPart")
    if hrp then
        hrp.CFrame = CFrame.new(position + Vector3.new(0, 3, 0)) -- Slightly above to avoid collisions
    end
end

-- Function to equip armor
local function equipArmor()
    local armorStand = findNearestObject(armorName)
    if armorStand then
        moveToPosition(armorStand.Position)
    end
end

-- Function to heal
local function heal()
    local healPad = findNearestObject(healPadName)
    if healPad and healPad.Color == Color3.fromRGB(75, 151, 75) then -- Ensure the pad is active
        moveToPosition(healPad.Position)
    end
end

-- Monitor character's health
local function monitorHealth()
    local humanoid = player.Character:FindFirstChildOfClass("Humanoid")
    if humanoid then
        humanoid.HealthChanged:Connect(function(health)
            if health < humanoid.MaxHealth then
                heal()
            end
        end)
    end
end

-- Connect to character respawn
player.CharacterAdded:Connect(function()
    equipArmor()
    monitorHealth()
end)

-- Initial setup
if player.Character then
    equipArmor()
    monitorHealth()
end

print("Auto Heal & Auto Equip Armor Script Loaded Successfully!")
