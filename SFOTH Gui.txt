local Player = game:GetService("Players").LocalPlayer
local Workspace = game:GetService("Workspace")
local RunService = game:GetService("RunService")

local ARMOR_STAND_NAME = "BattleArmorStand"
local HEAL_PAD_NAME = "HealPad"
local COOLDOWN = 0.3
local FORCE_FIELD_DELAY = 1.5

local function fireTouch(targetPart)
    if not Player.Character then return end
    local root = Player.Character:FindFirstChild("HumanoidRootPart")
    if not root then return end
    
    firetouchinterest(root, targetPart, 0)
    firetouchinterest(root, targetPart, 1)
end

local function getHealPadState(pad)
    local padPart = pad:FindFirstChild("Pad")
    if padPart then
        return padPart.Color == Color3.new(75/255, 151/255, 75/255)
    end
    return false
end

local function mainLoop()
    while true do
        -- Armor stand collection
        for _, obj in pairs(Workspace:GetChildren()) do
            if obj.Name == ARMOR_STAND_NAME and obj:FindFirstChild("TouchInterest") then
                fireTouch(obj)
            end
        end

        -- Heal pad activation system
        if Player.Character and Player.Character:FindFirstChild("Humanoid") then
            local humanoid = Player.Character.Humanoid
            
            -- Activate heal pads when below max health or after armor acquisition
            if humanoid.Health < humanoid.MaxHealth then
                for _, pad in pairs(Workspace:GetChildren()) do
                    if pad.Name == HEAL_PAD_NAME and not getHealPadState(pad) then
                        fireTouch(pad.Pad)
                        wait(FORCE_FIELD_DELAY) -- Buffer between pad activations
                    end
                end
            end
        end
        
        -- Performance throttle
        wait(COOLDOWN)
    end
end

-- Auto-reconnect system
while true do
    local success = pcall(mainLoop)
    if not success then
        warn("Script disconnected, reinitializing...")
        wait(3)
    end
end
