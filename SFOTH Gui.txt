-- Auto Heal & Auto Equip Armor Script for Sword Fight on the Heights Original
-- Made for execution in Roblox executors

-- Settings
local armorName = "BattleArmorStand"
local healPadName = "HealPad"
local player = game.Players.LocalPlayer

-- Wait for character to load
local function getCharacter()
    while not player.Character or not player.Character:FindFirstChild("HumanoidRootPart") do
        task.wait()
    end
    return player.Character
end

-- Function to find objects in the workspace by name
local function getObjectsByName(name)
    local objects = {}
    for _, obj in ipairs(workspace:GetDescendants()) do
        if obj:IsA("BasePart") and obj.Name == name then
            table.insert(objects, obj)
        end
    end
    return objects
end

-- Function to check if a HealPad is active
local function isHealPadActive(pad)
    return pad and pad:IsA("BasePart") and pad.Color == Color3.fromRGB(75, 151, 75)
end

-- Function to trigger a part using firetouchinterest
local function triggerPart(part)
    local char = getCharacter()
    if char then
        local hrp = char:FindFirstChild("HumanoidRootPart")
        if hrp then
            firetouchinterest(hrp, part, 0) -- Touch began
            task.wait(0.1) -- Short delay
            firetouchinterest(hrp, part, 1) -- Touch ended
        end
    end
end

-- Function to equip armor
local function equipArmor()
    for _, armor in ipairs(getObjectsByName(armorName)) do
        triggerPart(armor)
        task.wait(1) -- Prevent excessive triggering
    end
end

-- Function to heal efficiently
local function heal()
    for _, pad in ipairs(getObjectsByName(healPadName)) do
        if isHealPadActive(pad) then
            triggerPart(pad)
            task.wait(2) -- Prevent excessive triggering
        end
    end
end

-- Main loop to check and execute actions
spawn(function()
    while true do
        local char = getCharacter()
        local humanoid = char and char:FindFirstChildOfClass("Humanoid")
        if humanoid then
            if humanoid.MaxHealth == 100 then -- No armor equipped
                equipArmor()
            end
            if humanoid.Health < humanoid.MaxHealth then -- Need healing
                heal()
            end
        end
        task.wait(1) -- Prevent excessive CPU usage
    end
end)

print("Auto Heal & Auto Equip Armor Script Loaded Successfully!")
