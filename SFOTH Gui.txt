-- Auto Heal & Auto Equip Armor Script for Sword Fight on the Heights Original
-- Made for execution in Roblox executors

-- Settings
local armorName = "BattleArmorStand"
local healPadName = "HealPad"
local player = game.Players.LocalPlayer
local char = player.Character or player.CharacterAdded:Wait()

-- Function to find all instances of a specific name
local function getObjectsByName(name)
    local objects = {}
    for _, obj in pairs(workspace:GetChildren()) do
        if obj:IsA("BasePart") and obj.Name == name then
            table.insert(objects, obj)
        end
    end
    return objects
end

-- Function to determine if a HealPad is active or inactive
local function isHealPadActive(pad)
    if pad and pad:IsA("BasePart") then
        local color = pad.Color -- Get current color of the heal pad
        return color == Color3.fromRGB(75, 151, 75) -- True if green (active)
    end
    return false -- Default to inactive
end

-- Function to trigger a part using firetouchinterest
local function triggerPart(part)
    if char and char:FindFirstChild("HumanoidRootPart") then
        local hrp = char.HumanoidRootPart
        firetouchinterest(hrp, part, 0) -- Touch began
        task.wait(0.2) -- Small delay to prevent spam issues
        firetouchinterest(hrp, part, 1) -- Touch ended
    end
end

-- Function to equip armor automatically
local function equipArmor()
    for _, armor in pairs(getObjectsByName(armorName)) do
        triggerPart(armor) -- Attempt to equip armor
        task.wait(1) -- Wait to avoid unnecessary spam
    end
end

-- Function to heal efficiently
local function heal()
    local pads = getObjectsByName(healPadName)
    for _, pad in pairs(pads) do
        if isHealPadActive(pad) then
            triggerPart(pad)
            task.wait(2) -- Avoid triggering too frequently
        end
    end
end

-- Main loop to keep checking and executing functions
spawn(function()
    while task.wait(1) do
        if not player.Character or not player.Character:FindFirstChild("Humanoid") then continue end
        local humanoid = player.Character.Humanoid
        
        -- Equip armor if not already acquired
        if humanoid.MaxHealth == 100 then -- Default HP without armor
            equipArmor()
        end
        
        -- Heal when taking any damage or after acquiring armor
        if humanoid.Health < humanoid.MaxHealth then
            heal()
        end
    end
end)

print("Auto Heal & Auto Equip Armor Script Loaded Successfully!")
