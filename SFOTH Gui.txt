-- Define Constants
local player = game.Players.LocalPlayer
local workspace = game:GetService("Workspace")
local function waitForChild(object, name)
    return object:WaitForChild(name)
end

-- Variables for Armor Stands and Heal Pads
local battleArmorStand1 = workspace:WaitForChild("BattleArmorStand1")
local battleArmorStand2 = workspace:WaitForChild("BattleArmorStand2")
local healPad1 = workspace:WaitForChild("HealPad1")
local healPad2 = workspace:WaitForChild("HealPad2")

-- Function to equip armor when a player spawns
local function equipArmor()
    local availableArmorStand = nil
    if not battleArmorStand1:FindFirstChild("Touched") then
        availableArmorStand = battleArmorStand1
    elseif not battleArmorStand2:FindFirstChild("Touched") then
        availableArmorStand = battleArmorStand2
    end
    
    if availableArmorStand then
        -- Simulate armor equip logic (You can adjust the armor behavior here)
        print("Equipping armor from " .. availableArmorStand.Name)
        -- Example: equip armor, this could be a more detailed process depending on your game
        -- Placeholder for your armor equip code
    else
        print("No armor stand available.")
    end
end

-- Function to trigger heal pads
local function triggerHealPad()
    local healPadToUse = nil
    -- Check if the heal pads are available
    if healPad1.BrickColor == BrickColor.new("Bright red") then
        healPadToUse = healPad1
    elseif healPad2.BrickColor == BrickColor.new("Bright red") then
        healPadToUse = healPad2
    end
    
    if healPadToUse then
        -- Trigger the heal pad (simulate healing here)
        print("Triggering heal pad: " .. healPadToUse.Name)
        -- Placeholder for your healing code
        healPadToUse.BrickColor = BrickColor.new("Bright green") -- Simulate healing
        -- Simulate the healing process (might take a few seconds)
        wait(2) -- wait for healing process to complete
        healPadToUse.BrickColor = BrickColor.new("Bright red") -- Deactivate the heal pad
    else
        print("No available heal pads.")
    end
end

-- Function to check if the player has taken damage
local function onPlayerHealthChanged()
    if player.Health < player.MaxHealth then
        -- Trigger heal pad when health decreases
        triggerHealPad()
    end
end

-- Main loop to repeatedly check and use armor stands and heal pads
local function autoEquipAndHeal()
    -- First, equip armor on spawn
    equipArmor()

    -- Trigger heal pads after spawn
    triggerHealPad()

    -- Monitor health changes for triggering heal pads
    player.CharacterAdded:Connect(function()
        -- Trigger armor equip when character spawns
        equipArmor()
    end)

    -- Continuously check health and use healing pads
    while true do
        -- Check if the player took damage
        onPlayerHealthChanged()
        
        -- Delay to avoid freezing the game
        wait(0.5)
    end
end

-- Start the auto equip and heal process
autoEquipAndHeal()
