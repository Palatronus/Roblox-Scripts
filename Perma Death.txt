-- Client-Sided Reanimation Script
-- This script reanimates the player who executes it.
-- Use responsibly for private or educational purposes.

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local rootPart = character:WaitForChild("HumanoidRootPart")
local camera = workspace.CurrentCamera

-- Settings
local reanimationDelay = 0.1 -- Delay before reanimation begins
local cloneName = "Reanimated_" .. player.Name -- Name of the clone

-- Function to prepare the original character for reanimation
local function prepareOriginalCharacter()
    -- Make the original character's parts invisible and non-collidable
    for _, part in pairs(character:GetDescendants()) do
        if part:IsA("BasePart") then
            part.Transparency = 1
            part.Anchored = true
            part.CanCollide = false
        elseif part:IsA("Decal") then
            part.Transparency = 1
        end
    end
end

-- Function to create the reanimated clone
local function createClone()
    local clone = character:Clone()
    clone.Parent = workspace
    clone.Name = cloneName

    -- Adjust the clone's position and ensure all constraints are removed
    local cloneRoot = clone:FindFirstChild("HumanoidRootPart")
    if cloneRoot then
        cloneRoot.CFrame = rootPart.CFrame
    end

    for _, part in pairs(clone:GetDescendants()) do
        if part:IsA("Motor6D") or part:IsA("Weld") then
            part:Destroy() -- Remove existing constraints
        end
    end

    -- Prevent the clone's humanoid from resetting
    local cloneHumanoid = clone:FindFirstChild("Humanoid")
    if cloneHumanoid then
        cloneHumanoid.BreakJointsOnDeath = false
    end

    return clone
end

-- Function to reanimate the player
local function reanimate()
    wait(reanimationDelay)

    -- Prepare the original character
    prepareOriginalCharacter()

    -- Create and position the clone
    local clone = createClone()

    -- Transfer control to the clone
    player.Character = clone
    camera.CameraSubject = clone:FindFirstChild("Humanoid")

    print("Reanimation complete!")
end

-- Trigger reanimation when the script is executed
reanimate()
